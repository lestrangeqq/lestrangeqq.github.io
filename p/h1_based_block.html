<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <title>lestrangeqq.github.io</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans+Narrow&display=swap" rel="stylesheet">
  </head>
  <body>
<nav class="marg-20">
<div class="navi f-large">
<a href="/"><span class="brandLetter">L</span>estra</a>
<span class="f-right marg-side-10 clickable">Night Theme</span>
<a href="../contacts.html"><span class="f-right marg-side-10">Контакты</span></a>
</div>
</nav>
<main>
<div class="main">
<h1>Рекламный блок в зависимости от H1</h1>
<p>Допустим есть у нас статьи по GTA 5, и в них мы хотим показывать рекламный блок на партнерку по продаже GTA 5.
Но т.к. на сайте есть и другие статьи, в них мы тоже хотим показывать рекламный блок, но другой тематики, например продаже аркан в DOTA 2.
Создаем эти 2 блока и размещаем в нужном месте, например если вы используете <b>wordpress</b> то в файле <i>single.php</i>.</p>
<p>Разметка:</p>
<pre><code>&lt;div id="gta5_sell"&gt;Я баннер, я продаю GTA 5.&lt;/div&gt;
&lt;div id="dota2_sell"&gt;Я баннер, я продаю DOTA 2.&lt;/div&gt;
</code></pre>
<p>По дефолту скрываем оба эти блока:</p>
<pre><code>#gta5_sell {display:none;}
#dota2_sell {display:none;}
</code></pre>
<p>Применяем функцию поиска по H1 вашей статьи ключевого слова 'GTA'. Если в H1 это слово есть - будет выведен баннер продажи GTA 5, нет - DOTA 2.</p>
<p>JS:</p>
<pre><code>var divs = document.querySelectorAll("h1");
Array.from(divs).forEach(function(div) {
  if (div.textContent.indexOf("GTA") >= 0) {
    document.getElementById('gta5_sell').style.display = "block";
  } else {
  document.getElementById('dota2_sell').style.display = "block";
  }
});
</code></pre>
</div>
</main>
<footer class="marg-20">
<div class="center">&#169; Lestra 2020.</div>
</footer>
</body>
</html>
